{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\nfunction getPhoto(userWord) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: '44400646-52d28046ae8ecec8adffea605',\n    q: userWord,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  return fetch(url).then(res => res.json());\n}\n\nfunction imgTemplate(photo) {\n  return photo.hits.map(\n    hit => `<li class=\"gallery-item\">\n    <a href=${hit.largeImageURL} class=\"gallery-link\">\n     <img\n      class=\"gallery-image\"\n      src= ${hit.webformatURL}\n      alt=${hit.tags}\n     />\n    </a>\n    <div class=\"image-container\">\n      <ul class=\"text-list\">\n        <li>\n          <h3>Likes</h3>\n          <p class=\"image-description\">${hit.likes}</p>\n        </li>\n        <li>\n          <h3>Views</h3>\n          <p class=\"image-description\">${hit.views}</p>\n        </li>\n        <li>\n          <h3>Comments</h3>\n          <p class=\"image-description\">${hit.comments}</p>\n        </li>\n        <li>\n          <h3>Downloads</h3>\n          <p class=\"image-description\">${hit.downloads}</p>\n        </li>\n      </ul>\n    </div>\n  </li>`\n  );\n}\n\nconst formEl = document.querySelector('.form-search');\nconst imagesUl = document.querySelector('.gallery');\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  loader.style.display = 'block';\n  const value = formEl.elements.request.value;\n  getPhoto(value)\n    .then(data => {\n      loader.style.display = 'none';\n      if (!data.hits.length) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: 'white',\n          backgroundColor: 'red',\n          progressBarColor: 'white',\n        });\n      }\n      const markup = imgTemplate(data);\n      imagesUl.innerHTML = markup;\n      console.log(data);\n    })\n\n    .catch(err => {\n      console.log(err);\n    });\n  const refreshPage = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  refreshPage.refresh();\n  formEl.reset();\n});\n"],"names":["loader","getPhoto","userWord","BASE_URL","END_POINT","params","url","res","imgTemplate","photo","hit","formEl","imagesUl","e","value","data","iziToast","markup","err","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAEvB,SAASC,EAASC,EAAU,CAC1B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CAEA,SAASC,EAAYC,EAAO,CAC1B,OAAOA,EAAM,KAAK,IAChBC,GAAO;AAAA,cACGA,EAAI,aAAa;AAAA;AAAA;AAAA,aAGlBA,EAAI,YAAY;AAAA,YACjBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAOqBA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,yCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,yCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,yCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,QAKtD,CACA,CAEA,MAAMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAW,SAAS,cAAc,UAAU,EAElDD,EAAO,iBAAiB,SAAUE,GAAK,CACrCA,EAAE,eAAc,EAChBb,EAAO,MAAM,QAAU,QACvB,MAAMc,EAAQH,EAAO,SAAS,QAAQ,MACtCV,EAASa,CAAK,EACX,KAAKC,GAAQ,CACZf,EAAO,MAAM,QAAU,OAClBe,EAAK,KAAK,QACbC,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,QACd,gBAAiB,MACjB,iBAAkB,OAC5B,CAAS,EAEH,MAAMC,EAAST,EAAYO,CAAI,EAC/BH,EAAS,UAAYK,EACrB,QAAQ,IAAIF,CAAI,CACtB,CAAK,EAEA,MAAMG,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,EACiB,IAAIC,EAAe,aAAc,CACnD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EACW,QAAO,EACnBR,EAAO,MAAK,CACd,CAAC"}